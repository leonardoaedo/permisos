{% load staticfiles %}
<head>
	<title>{{title}}</title>
	<link rel="icon" href="/static/img/favicon.png" type="image/x-icon"/>
	<style>
	h4{
		font-size: 30px;
		padding: 0;
	  }
    
    @page {
        size: letter landscape;
        margin: 2cm;

        @frame header_frame {           /* Static Frame */
            -pdf-frame-content: header_content;
            left: 50pt; width: 512pt; top: 50pt; height: 40pt;
      						}
        
        @frame footer_frame {           /* Another static Frame */
            -pdf-frame-content: footer_content;
            left: 50pt; width: 512pt; top: 772pt; height: 20pt;
        					}
   		 }
     
  .DEVtable{width:25%;overflow: hidden;float: left;border-collapse:collapse;}
	.DEVtable caption {font-size: 18px;text-align: center;color: black;font-weight: bold;}
	.DEVtable td{padding: 5px;margin: auto;text-align: center;border:  1px solid;}

   
</style>

</head>

{% block contenido %}

<div id="page-header">
        <div class="header">
            <div class="logo"><img src="/static/img/escudo_lycee2.png" width="150" height="100" /></div> 
            <p class="header-link">
                <a class="header-link" href="http://www.cdegaulle.cl/">www.cdegaulle.cl</a>                
            </p>            
        </div>
</div>

<div id="footer_content">(c) - p치gina <pdf:pagenumber> of <pdf:pagecount> </div>
<h4 align="center">Informe de horas</h4>
<h4 align="center">{{hoy|date:"d F Y"}}</h4>
<div id="header_content">{% if start %} Periodo comprendido entre {{inicio|date:"d F Y"}} y {{termino|date:"d F Y"}} {% endif %}</div>


           
{% if usuarios %}
  <table border="1" class="DEVtable" >
            <thead>
                <tr>
                  
                  <th class="nombre">Nombre</th>
                  <th>Estamento</th>
                  <th>Horas solicitadas</th>
                  <th>Horas Aprobadas</th>
                  <th>Horas Rechazadas</th>
                  <th>Horas a Recuperar Acumuladas</th>
                  <th>Horas Recuperadas</th>
                  <th>Saldo Horas por Recuperar</th>                  
                  <th>Horas por Descontar Acumuladas</th>
                  <th>Horas Descontadas</th>
                  <th>Saldo Horas por Descontar</th>
                  <th>Horas sin Recuperaci칩n con Goc de Sueldo</th>
                  <th>Horas Pendientes de Revisi칩n</th>
                  
                </tr>
              </thead>
            <tbody>   
  {% for usuario in usuarios %}     
            <tr>
                <td width="150" height="50">{{usuario.apellido1}} {{usuario.nombre}}</td>                
                <td>{{usuario.estamento}}</td>
                <td >{{usuario.total_horas}}</td>
                <td >{{usuario.aprobadas}}</td>
                <td >{{usuario.rechazadas}}</td>
                <td >{{usuario.devolveracumuladas}}</td>           
                <td >{{usuario.devueltas}}</td>
                <td >{{usuario.saldodevolucion}}</td>
                <td >{{usuario.descontaracumuladas}}</td>
                <td >{{usuario.descontadas}}</td>                
                <td >{{usuario.saldodescontar}}</td>
                <td>{{usuario.sin_recup_con_sueldo}}</td>
                <td>{{usuario.pendientes_por_aprobar}}</td>
                              
            </tr>       

            <!-- <tr>
                <td>{{resolucion.id }}</td>
                <td>{% if resolucion.ultimaResolucion %} {{ resolucion.ultimaResolucion.get_respuesta_display }}  {% endif %}</td>
                <td></td>
                <td></td>

            </tr> -->

  {% empty %}
      <tr>
        <td class="list-group-item">En este momento no hay ningun elemento para mostrar</td>
      </tr>
        {% endfor %}           
        </tbody>    
    </table>
 
  {# .... **Comienzo de la paginacion** .... #}
    {% if is_paginated %}
        <div class="pagination">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="?page={{ page_obj.previous_page_number }}"><img width="25px" height="25px" src='/static/img/back.png' alt='Volver'/></a>
                {% endif %}
                <span class="page-current">
                    P치gina {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}"><img width="25px" height="25px" src='/static/img/next.png' alt='Siguiente'/></a>
                {% endif %}
            </span>
        </div>
    {% endif %}


{% endif %}

</div>
{% endblock %}